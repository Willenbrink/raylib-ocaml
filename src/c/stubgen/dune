(executable
 (name generate_c_types)
 (modules Generate_c_types)
 (libraries ctypes.stubs raylib_c_type_descriptions))

(rule
 (with-stdout-to generate_types.c
 (run ./generate_c_types.exe )))

; Based partially on
;   https://github.com/avsm/ocaml-yaml/blob/master/types/stubgen/jbuild#L20
(rule
 (targets generate_types.exe)
 (deps (:c generate_types.c))
 (action (bash "\
  %{cc} %{c} \
  -I '%{lib:ctypes:.}' \
  -I %{ocaml_where} \
  -I /home/tobi/Desktop/raylib/src \
  -o %{targets}")))

(executable
 (name generate_c_functions)
 (modules Generate_c_functions)
 (libraries ctypes.stubs raylib_c_function_descriptions))

(executable
 (name generate_ml_functions)
 (modules Generate_ml_functions)
 (libraries ctypes.stubs raylib_c_function_descriptions))
